(this["webpackJsonpgb-emu"]=this["webpackJsonpgb-emu"]||[]).push([[0],{11:function(e,c,t){"use strict";t.r(c);var r=t(1),n=t.n(r),s=t(3),b=t.n(s),j=(t(9),t(4));function x(e){return e.toString(16)}function d(e){return parseInt(e,16)}function o(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t="number"===typeof e?x(e):e;function r(e,c){for(var t="";t.length<e-c.length;)t+="0";return"".concat(t).concat(c)}return r(c,t)}function i(e,c){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{instruction:e,length:c,operand:t}}var O=new Array(256),a=new Array(256);function f(e,c,t){if(!e)return{position:"$".concat(o(t,4)),code:"Unknown opcode"};switch(e.operand){case"a8":case"r8":case"d8":return{position:"$".concat(o(t,4)),code:e.instruction.replace("${OPERAND}","$".concat(o(x(c[t+1]),2)))};case"a16":case"d16":return{position:"$".concat(o(t,4)),code:e.instruction.replace("${OPERAND}","$".concat(o(x(c[t+2]),2)).concat(o(x(c[t+1]),2)))};default:return{position:"$".concat(o(t,4)),code:"".concat(e.instruction)}}}function l(e,c){for(var t=[],r=0;r<e.length;){for(var n=e[r],s=!1,b=0;b<c.length;b++)r>=c[b][0]&&r<=c[b][1]&&(s=!0);if(s)t.push({position:"$".concat(o(r,4)),code:"DATA: ".concat(o(x(n),2))}),r++;else{var j=O[n];if(j)switch(n){case d("0xcb"):var i=a[e[r+j.length]];t.push(f(i,e,r)),r+=i?i.length:j.length;break;default:t.push(f(j,e,r)),r+=j.length}else t.push(f(j,e,r)),r++}}return t}O[0]=i("NOP",1),O[4]=i("INC B",1),O[5]=i("DEC B",1),O[6]=i("LD B,${OPERAND}",2,"d8"),O[8]=i("LD (${OPERAND}),SP",3,"a16"),O[12]=i("INC C",1),O[13]=i("DEC C",1),O[14]=i("LD C,${OPERAND}",2,"d8"),O[17]=i("LD DE,${OPERAND}",3,"d16"),O[19]=i("INC DE",1),O[21]=i("DEC D",1),O[22]=i("LD D,${OPERAND}",2,"d8"),O[23]=i("RLA",1),O[24]=i("JR ${OPERAND}",2,"r8"),O[26]=i("LD A,(DE)",1),O[29]=i("DEC E",1),O[30]=i("LD E,${OPERAND}",2,"d8"),O[32]=i("JR NZ,SIGNED ${OPERAND}",2,"r8"),O[33]=i("LD HL,${OPERAND}",3,"d16"),O[34]=i("LD (HL+),A",1),O[35]=i("INC HL",1),O[36]=i("INC H",1),O[40]=i("JR Z,${OPERAND}",2,"r8"),O[46]=i("LD L,${OPERAND}",2,"d8"),O[49]=i("LD SP,${OPERAND}",3,"d16"),O[50]=i("LD (HL-),A",1),O[61]=i("DEC A",1),O[62]=i("LD A,${OPERAND}",2,"d8"),O[79]=i("SUB A,L",1),O[87]=i("LD D,A",1),O[103]=i("LD H,A",1),O[119]=i("LD (HL),A",1),O[120]=i("LD A,B",1),O[123]=i("LD A,E",1),O[124]=i("LD A,H",1),O[125]=i("LD A,L",1),O[134]=i("ADD A,(HL)",1),O[144]=i("SUB A,B",1),O[175]=i("XOR A",1),O[190]=i("CP (HL)",1),O[193]=i("POP BC",1),O[197]=i("PUSH BC",1),O[201]=i("RET",1),O[203]=i("PREFIX CB",1),O[205]=i("CALL ${OPERAND}",3,"a16"),O[206]=i("ADC A,${OPERAND}",2,"d8"),O[224]=i("LD ($FF00+${OPERAND}),A",2,"a8"),O[226]=i("LD (FF00+C),A",1),O[234]=i("LD (${OPERAND}),A",3,"a16"),O[240]=i("LD A,($FF00+${OPERAND})",2,"a8"),O[249]=i("LD SP,HL",1),O[254]=i("CP ${OPERAND}",2,"d8"),a[17]=i("RL C",2),a[124]=i("BIT 7,H",2);for(var h="31 fe ff af 21 ff 9f 32 cb 7c 20 fb 21 26 ff 0e 11 3e 80 32 e2 0c 3e f3 e2 32 3e 77 77 3e fc e0 47 11 04 01 21 10 80 1a cd 95 00 cd 96 00 13 7b fe 34 20 f3 11 d8 00 06 08 1a 13 22 23 05 20 f9 3e 19 ea 10 99 21 2f 99 0e 0c 3d 28 08 32 0d 20 f9 2e 0f 18 f3 67 3e 64 57 e0 42 3e 91 e0 40 04 1e 02 0e 0c f0 44 fe 90 20 fa 0d 20 f7 1d 20 f2 0e 13 24 7c 1e 83 fe 62 28 06 1e c1 fe 64 20 06 7b e2 0c 3e 87 e2 f0 42 90 e0 42 15 20 d2 05 20 4f 16 20 18 cb 4f 06 04 c5 cb 11 17 c1 cb 11 17 05 20 f5 22 23 22 23 c9 ce ed 66 66 cc 0d 00 0b 03 73 00 83 00 0c 00 0d 00 08 11 1f 88 89 00 0e dc cc 6e e6 dd dd d9 99 bb bb 67 63 6e 0e ec cc dd dc 99 9f bb b9 33 3e 3c 42 b9 a5 b9 a5 42 3c 21 04 01 11 a8 00 1a 13 be 20 fe 23 7d fe 34 20 f5 06 19 78 86 23 05 20 fb 86 20 fe 3e 01 e0 50",D=new Uint8Array(256),g=0;g<h.length;g+=3)D[g/3]=d("".concat(h[g]).concat(h[g+1]));var $=D,A=t(0),u=new Uint8Array(256);var L=function(){var e=Object(r.useState)(u),c=Object(j.a)(e,2),t=c[0],n=c[1];return Object(r.useEffect)((function(){setTimeout((function(){n($)}),2e3)}),[]),window.bootCode=t,Object(A.jsxs)(r.Fragment,{children:[Object(A.jsxs)("div",{className:"screen-container",children:[Object(A.jsx)("h2",{children:"GameBoy emulator"}),Object(A.jsx)("canvas",{height:144,width:160}),t?Object(A.jsx)("span",{children:t===u?"loading bootcode":"bootcode loaded"}):Object(A.jsxs)(r.Fragment,{children:[Object(A.jsx)("span",{children:"drop the bootcode here"}),Object(A.jsx)("input",{type:"file",onChange:function(e){if(e.target.files.length){var c=new FileReader;c.onload=function(e){n(new Uint8Array(e.target.result))},c.readAsArrayBuffer(e.target.files[0])}}})]})]}),t?Object(A.jsxs)(r.Fragment,{children:[Object(A.jsxs)("div",{className:"bootcode-container",children:[Object(A.jsx)("h2",{children:"Boot code"}),Object(A.jsx)("code",{children:t===u?Object(A.jsxs)("pre",{children:[Object(A.jsx)("strong",{children:"       x0 x1 x2 x3 x4 x5 x6 x7  x8 x9 xa xb xc xd xe xf"}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$000x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$001x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$002x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$003x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$004x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$005x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$006x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$007x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$008x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$009x"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00ax"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00bx"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00cx"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00dx"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00ex"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00fx"}),"  ","00 00 00 00 00 00 00 00","  ","00 00 00 00 00 00 00 00",Object(A.jsx)("br",{})]}):Object(A.jsxs)("pre",{children:[Object(A.jsx)("strong",{children:"       x0 x1 x2 x3 x4 x5 x6 x7  x8 x9 xa xb xc xd xe xf"}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$000x"}),"  ","31 fe ff af 21 ff 9f 32","  ","cb 7c 20 fb 21 26 ff 0e",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$001x"}),"  ","11 3e 80 32 e2 0c 3e f3","  ","e2 32 3e 77 77 3e fc e0",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$002x"}),"  ","47 11 04 01 21 10 80 1a","  ","cd 95 00 cd 96 00 13 7b",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$003x"}),"  ","fe 34 20 f3 11 d8 00 06","  ","08 1a 13 22 23 05 20 f9",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$004x"}),"  ","3e 19 ea 10 99 21 2f 99","  ","0e 0c 3d 28 08 32 0d 20",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$005x"}),"  ","f9 2e 0f 18 f3 67 3e 64","  ","57 e0 42 3e 91 e0 40 04",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$006x"}),"  ","1e 02 0e 0c f0 44 fe 90","  ","20 fa 0d 20 f7 1d 20 f2",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$007x"}),"  ","0e 13 24 7c 1e 83 fe 62","  ","28 06 1e c1 fe 64 20 06",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$008x"}),"  ","7b e2 0c 3e 87 e2 f0 42","  ","90 e0 42 15 20 d2 05 20",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$009x"}),"  ","4f 16 20 18 cb 4f 06 04","  ","c5 cb 11 17 c1 cb 11 17",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00ax"}),"  ","05 20 f5 22 23 22 23 c9","  ","ce ed 66 66 cc 0d 00 0b",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00bx"}),"  ","03 73 00 83 00 0c 00 0d","  ","00 08 11 1f 88 89 00 0e",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00cx"}),"  ","dc cc 6e e6 dd dd d9 99","  ","bb bb 67 63 6e 0e ec cc",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00dx"}),"  ","dd dc 99 9f bb b9 33 3e","  ","3c 42 b9 a5 b9 a5 42 3c",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00ex"}),"  ","21 04 01 11 a8 00 1a 13","  ","be 20 fe 23 7d fe 34 20",Object(A.jsx)("br",{}),Object(A.jsx)("strong",{children:"$00fx"}),"  ","f5 06 19 78 86 23 05 20","  ","fb 86 20 fe 3e 01 e0 50",Object(A.jsx)("br",{})]})})]}),Object(A.jsxs)("div",{className:"disassembled-bootcode-container",children:[Object(A.jsx)("h2",{children:"Disassembled boot code"}),Object(A.jsx)("code",{children:Object(A.jsx)("pre",{children:l(t,[[168,223]]).map((function(e){return Object(A.jsxs)(r.Fragment,{children:[Object(A.jsxs)("span",{children:[Object(A.jsx)("strong",{children:e.position}),"    ",e.code]}),Object(A.jsx)("br",{})]},e.position)}))})})]})]}):null]})};b.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(L,{})}),document.getElementById("root"))},9:function(e,c,t){}},[[11,1,2]]]);
//# sourceMappingURL=main.3e319f99.chunk.js.map