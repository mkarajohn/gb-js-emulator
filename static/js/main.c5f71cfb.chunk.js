(this["webpackJsonpgb-emu"]=this["webpackJsonpgb-emu"]||[]).push([[0],{11:function(e,c,t){"use strict";t.r(c);var n=t(1),r=t.n(n),s=t(3),o=t.n(s),b=(t(9),t(4));function d(e){return e.toString(16)}function a(e){return parseInt(e,16)}function i(e){var c="number"===typeof e?d(e):e;switch(c.length){case 0:return"0000";case 1:return"000".concat(c);case 2:return"00".concat(c);case 3:return"0".concat(c);case 4:return c;default:throw new Error("Invalid number passed to zeropad")}}function j(e,c,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{instruction:e,length:c,cycles:"number"===typeof t?{high:t,low:t}:t,flags:n,operand:r}}var f=[],l=[];function h(e,c,t){switch(e.operand){case"A":case"H":return{position:"$".concat(i(t)),code:"".concat(e.instruction,",").concat(e.operand)};case"r8":return{position:"$".concat(i(t)),code:"".concat(e.instruction,",signed 0x").concat(d(c[t+1]))};case"d16":return{position:"$".concat(i(t)),code:"".concat(e.instruction,",$").concat(d(c[t+2])).concat(d(c[t+1]))};default:return{position:"$".concat(i(t)),code:"".concat(e.instruction)}}}f[0]=j("NOP",1,4),f[32]=j("JR NZ",2,{high:12,low:8},void 0,"r8"),f[33]=j("LD HL",3,12,void 0,"d16"),f[49]=j("LD SP",3,12,void 0,"d16"),f[50]=j("LD (HL-)",1,8,void 0,"A"),f[175]=j("XOR A",1,4,{Z:"flip"}),f[203]=j("PREFIX CB",1,4),l[124]=j("BIT 7",2,8,{Z:"flip",N:"reset",H:"set"},"H");for(var x=function(e){for(var c=[],t=0;t<e.length;){var n=e[t];switch(n){case a("0x00"):var r=f[n];c.push(h(r,e,t)),t+=r.length;break;case a("0x20"):var s=f[n];c.push(h(s,e,t)),t+=s.length;break;case a("0x21"):var o=f[n];c.push(h(o,e,t)),t+=o.length;break;case a("0x31"):var b=f[n];c.push(h(b,e,t)),t+=b.length;break;case a("0x32"):var d=f[n];c.push(h(d,e,t)),t+=d.length;break;case a("0xaf"):var j=f[n];c.push(h(j,e,t)),t+=j.length;break;case a("0xcb"):var x=f[n],u=l[e[t+x.length]];u?(c.push(h(u,e,t)),t+=u.length):(c.push({position:"$".concat(i(t)),code:"Unknown opcode"}),t+=x.length);break;default:c.push({position:"$".concat(i(t)),code:"Unknown opcode"}),t++}}return c},u="31 fe ff af 21 ff 9f 32 cb 7c 20 fb 21 26 ff 0e 11 3e 80 32 e2 0c 3e f3 e2 32 3e 77 77 3e fc e0 47 11 04 01 21 10 80 1a cd 95 00 cd 96 00 13 7b fe 34 20 f3 11 d8 00 06 08 1a 13 22 23 05 20 f9 3e 19 ea 10 99 21 2f 99 0e 0c 3d 28 08 32 0d 20 f9 2e 0f 18 f3 67 3e 64 57 e0 42 3e 91 e0 40 04 1e 02 0e 0c f0 44 fe 90 20 fa 0d 20 f7 1d 20 f2 0e 13 24 7c 1e 83 fe 62 28 06 1e c1 fe 64 20 06 7b e2 0c 3e 87 e2 f0 42 90 e0 42 15 20 d2 05 20 4f 16 20 18 cb 4f 06 04 c5 cb 11 17 c1 cb 11 17 05 20 f5 22 23 22 23 c9 ce ed 66 66 cc 0d 00 0b 03 73 00 83 00 0c 00 0d 00 08 11 1f 88 89 00 0e dc cc 6e e6 dd dd d9 99 bb bb 67 63 6e 0e ec cc dd dc 99 9f bb b9 33 3e 3c 42 b9 a5 b9 a5 42 3c 21 04 01 11 a8 00 1a 13 be 20 fe 23 7d fe 34 20 f5 06 19 78 86 23 05 20 fb 86 20 fe 3e 01 e0 50",O=new Uint8Array(256),g=0;g<u.length;g+=3)O[g/3]=a("".concat(u[g]).concat(u[g+1]));var p=O,v=t(0);var m=function(){var e=Object(n.useState)(p),c=Object(b.a)(e,2),t=c[0],r=c[1];return console.log(t),window.bootCode=t,Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)("div",{className:"screen-container",children:[Object(v.jsx)("h2",{children:"GameBoy JS emulator"}),Object(v.jsx)("canvas",{height:144,width:160}),t?Object(v.jsx)("span",{children:"bootcode loaded"}):Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)("span",{children:"drop the bootcode here"}),Object(v.jsx)("input",{type:"file",onChange:function(e){if(e.target.files.length){var c=new FileReader;c.onload=function(e){r(new Uint8Array(e.target.result))},c.readAsArrayBuffer(e.target.files[0])}}})]})]}),t?Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)("div",{className:"bootcode-container",children:[Object(v.jsx)("h2",{children:"Boot code"}),Object(v.jsx)("code",{children:Object(v.jsxs)("pre",{children:[Object(v.jsx)("strong",{children:"00000000"}),"  ","31 fe ff af 21 ff 9f 32 cb 7c 20 fb 21 26 ff 0e",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000010"}),"  ","11 3e 80 32 e2 0c 3e f3 e2 32 3e 77 77 3e fc e0",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000020"}),"  ","47 11 04 01 21 10 80 1a cd 95 00 cd 96 00 13 7b",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000030"}),"  ","fe 34 20 f3 11 d8 00 06 08 1a 13 22 23 05 20 f9",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000040"}),"  ","3e 19 ea 10 99 21 2f 99 0e 0c 3d 28 08 32 0d 20",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000050"}),"  ","f9 2e 0f 18 f3 67 3e 64 57 e0 42 3e 91 e0 40 04",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000060"}),"  ","1e 02 0e 0c f0 44 fe 90 20 fa 0d 20 f7 1d 20 f2",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000070"}),"  ","0e 13 24 7c 1e 83 fe 62 28 06 1e c1 fe 64 20 06",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000080"}),"  ","7b e2 0c 3e 87 e2 f0 42 90 e0 42 15 20 d2 05 20",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"00000090"}),"  ","4f 16 20 18 cb 4f 06 04 c5 cb 11 17 c1 cb 11 17",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000a0"}),"  ","05 20 f5 22 23 22 23 c9 ce ed 66 66 cc 0d 00 0b",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000b0"}),"  ","03 73 00 83 00 0c 00 0d 00 08 11 1f 88 89 00 0e",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000c0"}),"  ","dc cc 6e e6 dd dd d9 99 bb bb 67 63 6e 0e ec cc",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000d0"}),"  ","dd dc 99 9f bb b9 33 3e 3c 42 b9 a5 b9 a5 42 3c",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000e0"}),"  ","21 04 01 11 a8 00 1a 13 be 20 fe 23 7d fe 34 20",Object(v.jsx)("br",{}),Object(v.jsx)("strong",{children:"000000f0"}),"  ","f5 06 19 78 86 23 05 20 fb 86 20 fe 3e 01 e0 50",Object(v.jsx)("br",{})]})})]}),Object(v.jsxs)("div",{className:"disassembled-bootcode-container",children:[Object(v.jsx)("h2",{children:"Disassembled boot code"}),Object(v.jsx)("code",{children:Object(v.jsx)("pre",{children:x(t).map((function(e){return Object(v.jsxs)(n.Fragment,{children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("strong",{children:e.position}),"    ",e.code]}),Object(v.jsx)("br",{})]},e.position)}))})})]})]}):null]})};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(m,{})}),document.getElementById("root"))},9:function(e,c,t){}},[[11,1,2]]]);
//# sourceMappingURL=main.c5f71cfb.chunk.js.map